function XYSlider(e,t){let n=document.getElementsByTagName("section"),l=document.getElementById(e),o=0,a=[],i=100,c=100,u=t.colors,s=[],r=0,d=!1,m=!1,f=null,g=null;let h=!1;const p=document.createElement("div");p.className="section_selection",l.appendChild(p);for(let e=0;e<n.length;e++){a[e]=0,s[e]=0,n[e].style.background=u[e];let t=document.createElement("input");t.type="radio",t.name="section",t.id=`section[${e}]`,t.style.display="none",t.value=e,t.onclick=function(e){d?e.preventDefault():w(e)},t.checked=r===e,p.appendChild(t);let l=document.createElement("label");l.htmlFor=`section[${e}]`,p.appendChild(l);let o=n[e].getElementsByClassName("page");if(o.length>1){let t=document.createElement("div");t.className="page_selection",n[e].appendChild(t);for(let n=0;n<o.length;n++){let l=document.createElement("input");l.type="radio",l.id=`page[${e}][${n}]`,l.name=`pagination[${e}]`,l.style.display="none",l.value=n,l.onclick=function(){y(this)},l.checked=s[n]===n,t.appendChild(l);let o=document.createElement("label");o.htmlFor=`page[${e}][${n}]`,t.appendChild(o)}t.style.left=`calc(50% - ${t.getBoundingClientRect().width/2}px)`,p.style.top=`calc(50% - ${p.getBoundingClientRect().height/2}px)`}}function w(e){if(!n&&n.length<=0)return;if(d)return;if(d=!0,(e.deltaY>0||"up"===e&&"down"!=g)&&r<n.length-1)r++,o-=c;else if((e.deltaY<0||"down"===e&&"up"!=g)&&r>0)r--,o+=c;else if("click"===e.type){let t=parseInt(e.target.value)-r;r=parseInt(e.target.value),o-=c*t}else o=100*Math.round(o/100);h=!1,c=100,document.getElementById(`section[${r}]`).checked=!0;for(let e=0;e<n.length;e++)n[e].style.transform=`translateY(${o}%)`;setTimeout(()=>{d=!1},200)}function y(e){if(!n&&n.length<=0)return;if(m)return;m=!0;let t=n[r].getElementsByClassName("page");if("left"===e&&"right"!=g&&s[r]<t.length-1)s[r]++,a[r]-=i;else if("right"===e&&"left"!=g&&s[r]>0)s[r]--,a[r]+=i;else if("click"===e.type){let t=parseInt(e.target.value)-s[r];s[r]=parseInt(e.target.value),a[r]=a[r]-i*t}else a[r]=100*Math.round(a[r]/100);h=!1,i=100,document.getElementById(`page[${r}][${s[r]}]`).checked=!0;for(let e=0;e<t.length;e++)t[e].style.transform=`translateX(${a[r]}%)`;setTimeout(()=>{m=!1},200)}window.onwheel=w,window.onmousedown=B,window.onmousemove=I,window.onmouseup=Y,window.ontouchstart=B,window.ontouchmove=I,window.ontouchend=Y;var $=null,E=null,v=null,C=null;function k(e){return e.touches?e.touches[0]:e}function B(e){f=null,h=!0,E=k(e).clientX,$=k(e).clientY}function I(e){if(!E||!$)return;v=k(e).clientX,C=k(e).clientY;let t=E-v,l=$-C;f=Math.abs(t)>Math.abs(l)?t>0?"left":"right":l>0?"up":"down",function(e){if(h){if(g=f,("left"===f||"right"===f)&&!m){let e=n[r].getElementsByClassName("page");"left"===f&&(i-=20,a[r]-=20),"right"===f&&(i-=20,a[r]+=20);for(let t=0;t<e.length;t++)e[t].style.transform=`translateX(${a[r]}%)`}if("up"===f||"down"===f&&!d){"up"===f&&(c-=20,o-=20),"down"===f&&(c-=20,o+=20);for(let e=0;e<n.length;e++)n[e].style.transform=`translateY(${o}%)`}h=!1}}()}function Y(){f&&(w(f),y(f)),E=null,$=null,f=null,h=!1}}
